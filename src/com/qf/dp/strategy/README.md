# 策略模式
* 策略模式属于对象的行为模式。其用意是针对一组算法，将每一个算法封装到具有共同接口的独立的类中，从而使得它们可以相互替换。策略模式使得算法可以在不影响到客户端的情况下发生变化。
***  
###### 策略模式的结构   
策略模式是对算法的包装，是把使用算法的责任和算法本身分割开来，委派给不同的对象管理。策略模式通常把一个系列的算法包装到一系列的策略类里面，作为一个抽象策略类的子类。用一句话来说，就是：“准备一组算法，并将每一个算法封装起来，使得它们可以互换”。下面就以一个示意性的实现讲解策略模式实例的结构。
* 这个模式涉及到三个角色
    * 环境(Context)角色：持有一个Strategy的引用
    * 抽象策略(Strategy)角色：这是一个抽象角色，通常由一个接口或抽象类实现。此角色给出所有的具体策略类所需的接口。
    * 具体策略(ConcreteStrategy)角色：包装了相关的算法或行为。
###### 策略模式的优缺点
* 优点：
    * 策略模式提供了对“开闭原则”的完美支持，用户可以在不修改原有系统的基础上选择算法或行为，也可以灵活地增加新的算法或行为。
    * 策略模式提供了管理相关的算法族的办法。
    * 策略模式提供了可以替换继承关系的办法。
    * 使用策略模式可以避免使用多重条件转移语句。
* 缺点：
    * 客户端必须知道所有的策略类，并自行决定使用哪一个策略类。
    * 策略模式将造成产生很多策略类，可以通过使用享元模式在一定程度上减少对象的数量。  
###### 策略模式的使用情况
* 1、如果在一个系统里面有许多类，它们之间的区别仅在于它们的行为，那么使用策略模式可以动态地让一个对象在许多行为中选择一种行为。 
一个系统需要动态地在几种算法中选择一种。 
* 2、如果一个对象有很多的行为，如果不用恰当的模式，这些行为就只好使用多重的条件选择语句来实现。 
* 3、不希望客户端知道复杂的、与算法相关的数据结构，在具体策略类中封装算法和相关的数据结构，提高算法的保密性与安全性。  
###### 使用场景
* 假设现在要设计一个贩卖各类书籍的电子商务网站的购物车系统。一个最简单的情况就是把所有货品的单价乘上数量，但是实际情况肯定比这要复杂。比如，本网站可能对所有的高级会员提供每本20%的促销折扣；对中级会员提供每本10%的促销折扣；对初级会员没有折扣。
    * 根据描述，折扣是根据以下的几个算法中的一个进行的：
    * 算法一：对初级会员没有折扣。
    * 算法二：对中级会员提供10%的促销折扣。
    * 算法三：对高级会员提供20%的促销折扣。
